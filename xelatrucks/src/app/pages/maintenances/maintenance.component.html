<!-- .page -->
<div class="page has-sidebar has-sidebar-fluid has-sidebar-expand-xl">
    <!-- .page-inner -->
    <div class="page-inner page-inner-fill position-relative">
        <header class="page-navs bg-light shadow-sm">
            <!-- .input-group -->
            <div class="input-group has-clearable">
                <button type="button" class="close" aria-label="Close"><span aria-hidden="true"><i class="fa fa-times-circle"></i></span></button> <label class="input-group-prepend" for="searchVehicles"><span class="input-group-text"><span class="oi oi-magnifying-glass"></span></span></label>
                <input type="text" class="form-control" id="searchVehicles" data-filter=".board .list-group-item" placeholder="Buscar Vehículos">
            </div>
            <!-- /.input-group -->
        </header>
        <!-- board -->
        <div class="board p-0 perfect-scrollbar">
            <!-- .list-group -->
            <div class="list-group list-group-flush list-group-divider border-top" data-toggle="radiolist">
                <!-- .list-group-item -->
                <div *ngFor="let vehicle of vehicles" class="list-group-item" data-toggle="sidebar" data-sidebar="show">
                    <a href="#" (click)="seleccionarVehicle( vehicle )" class="stretched-link"></a>
                    <!-- .list-group-item-figure -->
                    <div *ngIf="vehicle.type === 'camion'" class="list-group-item-figure">
                        <div class="tile tile-circle bg-yellow"> <i class="fas fa-truck"></i> </div>
                    </div>
                    <!-- /.list-group-item-figure -->
                    <!-- .list-group-item-body -->
                    <div *ngIf="vehicle.type === 'camion'" class="list-group-item-body">
                        <h4 class="list-group-item-title">Camión: {{ vehicle.plate }} </h4>
                        <p class="list-group-item-text">#{{ vehicle.no + ' ' + vehicle._make.name + ' CP: ' + vehicle.cp }} </p>
                    </div>
                    <!-- /.list-group-item-body -->
                    <!-- .list-group-item-figure -->
                    <div *ngIf="vehicle.type === 'camionG'" class="list-group-item-figure">
                        <div class="tile tile-circle bg-orange"> <i class="fas fa-truck-moving"></i> </div>
                    </div>
                    <!-- /.list-group-item-figure -->
                    <!-- .list-group-item-body -->
                    <div *ngIf="vehicle.type === 'camionG'" class="list-group-item-body">
                        <h4 class="list-group-item-title">Camión gondola: {{ vehicle.plate }} </h4>
                        <p class="list-group-item-text"> #{{ vehicle.no + ' ' + vehicle._make.name + ' CP: ' + vehicle.cp }} </p>
                    </div>
                    <!-- /.list-group-item-body -->
                    <!-- .list-group-item-figure -->
                    <div *ngIf="vehicle.type === 'vehiculo'" class="list-group-item-figure">
                        <div class="tile tile-circle bg-blue"> <i class="fas fa-truck-pickup"></i> </div>
                    </div>
                    <!-- /.list-group-item-figure -->
                    <!-- .list-group-item-body -->
                    <div *ngIf="vehicle.type === 'vehiculo'" class="list-group-item-body">
                        <h4 class="list-group-item-title">Vehículo: {{ vehicle.plate }} </h4>
                        <p class="list-group-item-text"> {{ vehicle._make.name }} </p>
                    </div>
                    <!-- /.list-group-item-body -->
                    <!-- .list-group-item-figure -->
                    <div *ngIf="vehicle.type === 'riego'" class="list-group-item-figure">
                        <div class="tile tile-circle bg-green"> <i class="fas fa-truck-monster"></i> </div>
                    </div>
                    <!-- /.list-group-item-figure -->
                    <!-- .list-group-item-body -->
                    <div *ngIf="vehicle.type === 'riego'" class="list-group-item-body">
                        <h4 class="list-group-item-title">Camión para riego: {{ vehicle.plate }} </h4>
                        <p class="list-group-item-text"> #{{ vehicle.no + ' ' + vehicle._make.name + ' CP:' + vehicle.cp }} </p>
                    </div>
                    <!-- /.list-group-item-body -->
                    <!-- .list-group-item-figure -->
                    <div *ngIf="vehicle.type === 'stock'" class="list-group-item-figure">
                        <div class="tile tile-circle bg-pink"> <i class="fas fa-snowplow"></i> </div>
                    </div>
                    <!-- /.list-group-item-figure -->
                    <!-- .list-group-item-body -->
                    <div *ngIf="vehicle.type === 'stock'" class="list-group-item-body">
                        <h4 class="list-group-item-title">Excavadora: {{ vehicle.plate }} </h4>
                        <p class="list-group-item-text"> {{ vehicle._make.name }} </p>
                    </div>
                    <!-- /.list-group-item-body -->
                </div>
                <!-- /.list-group-item -->
                <!-- .list-group-item -->
                <div *ngFor="let gondola of gondolas" class="list-group-item" data-toggle="sidebar" data-sidebar="show">
                    <a href="#" (click)="seleccionarGondola( gondola )" class="stretched-link"></a>
                    <!-- .list-group-item-figure -->
                    <div class="list-group-item-figure">
                        <div class="tile tile-circle bg-red"> <i class="fas fa-truck-moving"></i> </div>
                    </div>
                    <!-- /.list-group-item-figure -->
                    <!-- .list-group-item-body -->
                    <div class="list-group-item-body">
                        <h4 class="list-group-item-title">Gondola: {{ gondola.plate }} </h4>
                        <p *ngIf="gondola._truck !== null" class="list-group-item-text"> {{ 'Camión asignado: ' + gondola._truck.plate }} </p>
                        <p *ngIf="gondola._truck === null" class="list-group-item-text"> Camión sin asignar </p>
                    </div>
                    <!-- /.list-group-item-body -->
                </div>
                <!-- /.list-group-item -->
            </div>
            <!-- /.list-group -->
        </div>
        <!-- /board -->
    </div>
    <!-- /.page-inner -->
    <!-- .page-sidebar -->
    <div class="page-sidebar bg-light">
        <!-- .sidebar-header -->
        <header class="sidebar-header d-xl-none">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item active">
                        <a href="#" data-toggle="sidebar"><i class="breadcrumb-icon fa fa-angle-left mr-2"></i>Atras</a>
                    </li>
                </ol>
            </nav>
        </header>
        <!-- /.sidebar-header -->
        <!-- .sidebar-section -->
        <div class="sidebar-section sidebar-section-fill">
            <h1 class="page-title">
                <i class="{{ icon }} text-muted mr-2"></i> {{ this.type + ' ' + this.title }} </h1>
            <p class="text-muted"> {{ this.info }} </p>
            <!-- .nav-scroller -->
            <div class="nav-scroller border-bottom">
                <!-- .nav-tabs -->
                <ul class="nav nav-tabs">
                    <li class="nav-item">
                        <a #detalles class="nav-link active show" data-toggle="tab" href="#detalles" (click)="inGondola = false; inGas = false;"> Detalles del vehículo</a>
                    </li>
                    <li *ngIf="selected" class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#vehicle-rims" (click)="inGondola = false; inGas = false;"> Neumáticos</a>
                    </li>
                    <li *ngIf="selected && !isGondola" class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#gasolines" (click)="inGondola = false; inGas = true;">Combustible</a>
                    </li>
                    <li *ngIf="selected && isTruckG" class="nav-item" (click)="inGondola = true; inGas = false;">
                        <a class="nav-link" data-toggle="tab" href="#type-gondola">Góndola</a>
                    </li>
                </ul>
                <!-- /.nav-tabs -->
            </div>
            <!-- /.nav-scroller -->
            <!-- .tab-content -->
            <div class="tab-content pt-4" id="clientDetailsTabs">
                <!-- .tab-pane -->
                <div class="tab-pane fade show active" id="detalles" role="tabpanel" aria-labelledby="client-billing-contact-tab">
                    <!-- .card -->
                    <div class="card">
                        <!-- .card-body -->
                        <div *ngIf="!isGondola" class="card-body">
                            <div class="d-flex justify-content-between align-items-center">
                                <h2 id="client-billing-contact-tab" class="card-title"> #: {{this.vehicle.no}} {{ this.type + ' ' + this.title }} </h2>
                            </div>
                            <p class="metric-value h1 fa-pull-right">
                                <span class="value">{{ this.vehicle.km }}</span> <sup>km</sup>
                            </p>
                            <address> 
                            <strong>Código Cementos Progreso:</strong> {{ this.vehicle.cp }}<br> 
                            <strong>Marca:</strong> {{ this.vehicle._make.name }}<br> 
                            <strong>Modelo:</strong> {{ this.vehicle.model }} <br>
                            <strong>mts:</strong> {{ this.vehicle.mts }}
                        </address>
                            <button *ngIf="selected" (click)="borraVehiculo( this.vehicle )" type="button" class="btn btn-sm btn-icon btn-secondary fa-pull-right"><i class="far fa-trash-alt"></i> <span class="sr-only">Eliminar</span></button>
                            <button *ngIf="selected" [routerLink]="[ '/vehicle', this.vehicle._id ]" type="button" class="btn btn-sm btn-icon btn-secondary fa-pull-right"><i class="fa fa-pencil-alt"></i> <span class="sr-only">Editar</span></button>
                        </div>
                        <!-- /.card-body -->
                        <!-- .card-body -->
                        <div *ngIf="isGondola" class="card-body">
                            <div class="d-flex justify-content-between align-items-center">
                                <h2 id="client-billing-contact-tab" class="card-title"> {{ this.type + ' ' + this.title }} </h2>
                            </div>
                            <button *ngIf="selected" (click)="borraGondola( this.gondola )" type="button" class="btn btn-sm btn-icon btn-secondary fa-pull-right"><i class="far fa-trash-alt"></i> <span class="sr-only">Eliminar</span></button>
                            <button *ngIf="selected" type="button" class="btn btn-sm btn-icon btn-secondary fa-pull-right"><i class="fa fa-pencil-alt"></i> <span class="sr-only">Editar</span></button>
                        </div>
                        <!-- /.card-body -->
                    </div>
                    <!-- /.card -->
                </div>
                <!-- /.tab-pane -->
            </div>
            <!-- /.tab-content -->
        </div>
        <!-- /.sidebar-section -->
    </div>
    <!-- /.page-sidebar -->
    <!-- Keep in mind that modals should be placed outsite of page sidebar -->
</div>
<!-- /.page -->