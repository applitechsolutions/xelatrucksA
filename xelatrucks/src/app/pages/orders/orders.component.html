<!-- floating action -->
<button [routerLink]="['/order', 'new']" routerLinkActive="router-link-active" type="button"
  class="btn btn-success btn-floated"><span class="fa fa-plus"></span></button>
<!-- /floating action -->
<!-- .page-section -->
<div class="page-section">
  <!-- .card -->
  <div class="card card-fluid">
    <!-- .card-body -->
    <div class="card-body">
      <!-- .btn-toolbar -->
      <div id="dt-buttons" class="btn-toolbar"></div>
      <!-- /.btn-toolbar -->
      <!-- .form-group -->
      <div class="form-group">
        <!-- .input-group -->
        <div class="input-group input-group-alt">
          <!-- .input-group -->
          <div class="input-group has-clearable">
            <button id="clear-search" type="button" class="close" aria-label="Close"><span aria-hidden="true"><i
                  class="fa fa-times-circle"></i></span></button>
            <div class="input-group-prepend">
              <span class="input-group-text"><span class="oi oi-magnifying-glass"></span></span>
            </div><input id="table-search" type="text" class="form-control" placeholder="Buscar aquÃ­">
          </div>
          <!-- /.input-group -->
          <!-- .input-group-prepend -->
          <div class="input-group-prepend">
            <select id="filterBy" class="custom-select">
              <option value='' selected> Filtros </option>
              <option value="0"> Fecha </option>
              <option value="1"> Orden </option>
              <option value="2"> Destino </option>
              <option value="3"> Material </option>
              <option value="4"> Total, metros </option>
              <option value="5"> Faltante, metros </option>
              <option value="6"> Total, kilogramos </option>
              <option value="7"> Faltante, kilogramos </option>
            </select>
          </div>
          <!-- /.input-group-prepend -->
        </div>
        <!-- /.input-group -->
      </div>
      <!-- /.form-group -->
      <!-- .table -->
      <table id="myTable" class="table">
        <thead>
          <tr>
            <th> Fecha </th>
            <th> Orden </th>
            <th> Destino </th>
            <th> Material </th>
            <th> Total, metros </th>
            <th> Faltante, metros </th>
            <th> Total, kilogramos </th>
            <th> Faltante, kilogramos </th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let pull of pulls">
            <td class="align-middle">
              {{ dtService.fromJsonDate(pull._order.date) }}
            </td>
            <td class="align-middle">{{ pull._order.order }}</td>
            <td class="align-middle"> {{ pull._order._destination.name }} </td>
            <td class="align-middle"> {{ pull._material.code + ' ' + pull._material.name }} </td>
            <td class="align-middle"> {{ pull.totalMts | number: '1.2-2' }} m </td>
            <td class="align-middle">
              <span *ngIf="pull.mts >= pull.totalMts"
                class="badge badge-success">{{ pull.totalMts - pull.mts | number: '1.2-2' }} m</span>
              <span *ngIf="pull.mts > 0" class="badge badge-warning">{{ pull.totalMts - pull.mts | number: '1.2-2' }} m
              </span>
              <span *ngIf="pull.mts === 0" class="badge badge-danger">{{ pull.totalMts - pull.mts | number: '1.2-2' }} m
              </span>
            </td>
            <td class="align-middle"> {{ pull.totalKg | number: '1.2-2' }} kg </td>
            <td class="align-middle">
              <span *ngIf="pull.kg >= pull.totalKg"
                class="badge badge-success">{{ pull.totalKg - pull.kg | number: '1.2-2' }}
                kg</span>
              <span *ngIf="pull.kg > 0" class="badge badge-warning">{{ pull.totalKg - pull.kg | number: '1.2-2' }}
                kg</span>
              <span *ngIf="pull.kg === 0" class="badge badge-danger">{{ pull.totalKg - pull.kg | number: '1.2-2' }}
                kg</span>
            </td>
            <td class="align-middle text-right">
              <div class="dropdown">
                <button type="button" class="btn btn-sm btn-icon btn-secondary" data-toggle="dropdown"
                  aria-expanded="false" aria-haspopup="true"><i class="fa fa-ellipsis-h"></i> <span
                    class="sr-only">Acciones</span></button>
                <div class="dropdown-menu dropdown-menu-right" x-placement="bottom-end"
                  style="position: absolute; will-change: top, left; top: 29px; left: 34px;">
                  <div class="dropdown-arrow mr-n1"></div>
                  <button class="dropdown-item" type="button" data-toggle="modal" data-target="#modalNewTask">Ingresar
                    Reporte</button>
                  <button class="dropdown-item" type="button">Finalizar</button>
                </div>
              </div>
            </td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <th> Fecha </th>
            <th> Orden </th>
            <th> Destino </th>
            <th> Material </th>
            <th> Total, metros </th>
            <th> Faltante, metros </th>
            <th> Total, kilogramos </th>
            <th> Faltante, kilogramos </th>
            <th></th>
          </tr>
        </tfoot>
      </table>
    </div>
    <!-- /.card-body -->
  </div>
  <!-- /.card -->
</div>
<!-- /.page-section -->
<!-- .form -->
<form id="addNewTask" action="/add-new-task" method="post" enctype="multipart/form-data" name="addNewTask">
  <!-- .modal -->
  <div class="modal fade" id="modalNewTask" tabindex="-1" role="dialog" aria-labelledby="modalNewTaskLabel"
    aria-hidden="true">
    <!-- .modal-dialog -->
    <div class="modal-dialog modal-lg" role="document">
      <!-- .modal-content -->
      <div class="modal-content px-lg-4 py-lg-3">
        <!-- .modal-header -->
        <div class="modal-header">
          <h6 id="modalNewTaskLabel" class="modal-title"> Add new tasks </h6>
        </div><!-- /.modal-header -->
        <!-- .modal-body -->
        <div class="modal-body">
          <!-- .form-group -->
          <div class="form-group">
            <label for="tasksTitle">Title</label> <input type="text" name="taskTitle" id="tasksTitle"
              class="form-control" required="" autocomplete="off" data-autofocus="true">
          </div><!-- /.form-group -->
          <!-- .form-group -->
          <div class="form-group">
            <div class="d-flex justify-content-between">
              <label for="taskDescription">Description</label> <a href="#"
                onclick="boardDemo.ntMarkdown.togglePreview()" tabindex="-1">Preview</a>
            </div>
            <textarea name="taskDescription" id="taskDescription" class="form-control"></textarea>
            <div class="d-flex align-items-center">
              <span class="text-muted mt-2"><a href="https://simplemde.com/markdown-guide" target="_blank">Markdown</a>
                is supported</span>
              <div class="btn btn-reset fileinput-button text-muted ml-auto">
                <i class="fa fa-paperclip"></i> <span>Attach a file</span> <input type="file" name="taskAttachment">
              </div>
            </div>
          </div><!-- /.form-group -->
          <!-- .form-group -->
          <div class="form-group">
            <div class="custom-control custom-checkbox">
              <input type="checkbox" name="taskVisibility" class="custom-control-input" id="taskVisibility"> <label
                class="custom-control-label" for="taskVisibility">Should only be visible to team members.</label>
            </div>
          </div><!-- /.form-group -->
          <hr>
          <!-- .form-group -->
          <div class="form-group form-row">
            <!-- .col -->
            <div class="col-md-6">
              <!-- .form-group -->
              <div class="form-group">
                <label>Assignee</label>
                <div class="dropdown">
                  <button type="button"
                    class="btn btn-secondary btn-block d-flex justify-content-between align-items-center"
                    id="dntAssignees" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Beni
                      Arisandi + 1 more</span> <span class="fa fa-angle-down"></span></button> <!-- .dropdown-menu -->
                  <div class="dropdown-menu dropdown-menu-md overflow-y-auto stop-propagation" data-flip="false"
                    id="dntmAssignees" aria-labelledby="dropdownAssignee1" style="max-height: 30rem;">
                    <h6 id="dropdownAssignee1" class="dropdown-header"> Add assignee </h6>
                    <div class="dropdown-divider"></div>
                    <div class="form-group px-3 py-2 mb-0">
                      <input type="text" class="form-control" data-filter="#dntmAssignees .filterable"
                        placeholder="Search members" autofocus="">
                    </div><label class="custom-control custom-checkbox"><input type="checkbox"
                        class="custom-control-input task-unassignees" name="taskAssignees[]" value="0"
                        data-label="Unassigned"> <span class="custom-control-label">Unassigned</span></label>
                    <div class="dropdown-divider"></div>
                    <h6 class="dropdown-header"> Assignee(s) </h6><label
                      class="custom-control custom-checkbox filterable" data-sort="Beni Arisandi"><input type="checkbox"
                        class="custom-control-input task-assignees" name="taskAssignees[]" value="4"
                        data-label="Beni Arisandi" checked> <span
                        class="custom-control-label custom-control-label-media"><span class="media"><span
                            class="mr-2"><span class="user-avatar"><img src="assets/images/avatars/uifaces1.jpg"
                                alt=""></span></span> <span class="media-body">Beni Arisandi<br>
                            <span class="text-muted">@benz</span></span></span></span></label> <label
                      class="custom-control custom-checkbox filterable" data-sort="Melissa Day"><input type="checkbox"
                        class="custom-control-input task-assignees" name="taskAssignees[]" value="2"
                        data-label="Melissa Day" checked> <span
                        class="custom-control-label custom-control-label-media"><span class="media"><span
                            class="mr-2"><span class="user-avatar"><img src="assets/images/avatars/uifaces4.jpg"
                                alt=""></span></span> <span class="media-body">Melissa Day<br>
                            <span class="text-muted">@melday</span></span></span></span></label>
                    <div id="dntDivider" class="dropdown-divider"></div><label
                      class="custom-control custom-checkbox filterable" data-sort="Adam Medina"><input type="checkbox"
                        class="custom-control-input task-assignees" name="taskAssignees[]" value="3"
                        data-label="Adam Medina"> <span class="custom-control-label custom-control-label-media"><span
                          class="media"><span class="mr-2"><span class="user-avatar"><img
                                src="assets/images/avatars/uifaces15.jpg" alt=""></span></span> <span
                            class="media-body">Adam Medina<br>
                            <span class="text-muted">@amed</span></span></span></span></label> <label
                      class="custom-control custom-checkbox filterable" data-sort="Diana Miller"><input type="checkbox"
                        class="custom-control-input task-assignees" name="taskAssignees[]" value="1"
                        data-label="Diana Miller"> <span class="custom-control-label custom-control-label-media"><span
                          class="media"><span class="mr-2"><span class="user-avatar"><img
                                src="assets/images/avatars/uifaces7.jpg" alt=""></span></span> <span
                            class="media-body">Diana Miller<br>
                            <span class="text-muted">@dmiller</span></span></span></span></label> <label
                      class="custom-control custom-checkbox filterable" data-sort="Douglas Lucas"><input type="checkbox"
                        class="custom-control-input task-assignees" name="taskAssignees[]" value="5"
                        data-label="Douglas Lucas"> <span class="custom-control-label custom-control-label-media"><span
                          class="media"><span class="mr-2"><span class="user-avatar"><img
                                src="assets/images/avatars/uifaces5.jpg" alt=""></span></span> <span
                            class="media-body">Douglas Lucas<br>
                            <span class="text-muted">@lucaldoug</span></span></span></span></label>
                  </div><!-- /.dropdown-menu -->
                </div><!-- /.dropdown -->
              </div><!-- /.form-group -->
              <!-- .form-group -->
              <div class="form-group">
                <label>Labels</label> <!-- .dropdown -->
                <div class="dropdown">
                  <button type="button"
                    class="btn btn-secondary btn-block d-flex justify-content-between align-items-center" id="bntLabels"
                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>No label</span> <span
                      class="fa fa-angle-down"></span></button> <!-- .dropdown-menu -->
                  <div class="dropdown-menu dropdown-menu-md stop-propagation" id="dntLabels"
                    aria-labelledby="dropdownTaskLabels1">
                    <h6 id="dropdownTaskLabels1" class="dropdown-header"> Select labels </h6>
                    <div class="dropdown-divider"></div>
                    <div class="form-group px-3 py-2 mb-0">
                      <input type="text" class="form-control" data-filter="#dntLabels .filterable" placeholder="Search"
                        data-autofocus="true">
                    </div><label class="custom-control custom-checkbox filterable"><input type="checkbox"
                        class="custom-control-input task-nolabel" name="taskLabels[]" value="0" data-label="No Label"
                        checked> <span class="custom-control-label">No Label</span></label>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-scroll">
                      <label class="custom-control custom-checkbox filterable"><input type="checkbox"
                          class="custom-control-input task-label" name="taskLabels[]" value="1" data-label="Assets">
                        <span class="custom-control-label"><i class="fa fa-square fa-lg text-blue mr-1"></i>
                          Assets</span></label> <label class="custom-control custom-checkbox filterable"><input
                          type="checkbox" class="custom-control-input task-label" name="taskLabels[]" value="2"
                          data-label="Build Tools"> <span class="custom-control-label"><i
                            class="fa fa-square fa-lg text-indigo mr-1"></i> Build Tools</span></label> <label
                        class="custom-control custom-checkbox filterable"><input type="checkbox"
                          class="custom-control-input task-label" name="taskLabels[]" value="3" data-label="Components">
                        <span class="custom-control-label"><i class="fa fa-square fa-lg text-purple mr-1"></i>
                          Components</span></label> <label class="custom-control custom-checkbox filterable"><input
                          type="checkbox" class="custom-control-input task-label" name="taskLabels[]" value="4"
                          data-label="Dependencies"> <span class="custom-control-label"><i
                            class="fa fa-square fa-lg text-pink mr-1"></i> Dependencies</span></label> <label
                        class="custom-control custom-checkbox filterable"><input type="checkbox"
                          class="custom-control-input task-label" name="taskLabels[]" value="5" data-label="Design">
                        <span class="custom-control-label"><i class="fa fa-square fa-lg text-red mr-1"></i>
                          Design</span></label> <label class="custom-control custom-checkbox filterable"><input
                          type="checkbox" class="custom-control-input task-label" name="taskLabels[]" value="6"
                          data-label="Documentation"> <span class="custom-control-label"><i
                            class="fa fa-square fa-lg text-orange mr-1"></i> Documentation</span></label> <label
                        class="custom-control custom-checkbox filterable"><input type="checkbox"
                          class="custom-control-input task-label" name="taskLabels[]" value="7" data-label="Doing">
                        <span class="custom-control-label"><i class="fa fa-square fa-lg text-yellow mr-1"></i>
                          Doing</span></label> <label class="custom-control custom-checkbox filterable"><input
                          type="checkbox" class="custom-control-input task-label" name="taskLabels[]" value="8"
                          data-label="JS"> <span class="custom-control-label"><i
                            class="fa fa-square fa-lg text-green mr-1"></i> JS</span></label> <label
                        class="custom-control custom-checkbox filterable"><input type="checkbox"
                          class="custom-control-input task-label" name="taskLabels[]" value="9" data-label="SCSS"> <span
                          class="custom-control-label"><i class="fa fa-square fa-lg text-teal mr-1"></i>
                          SCSS</span></label> <label class="custom-control custom-checkbox filterable"><input
                          type="checkbox" class="custom-control-input task-label" name="taskLabels[]" value="10"
                          data-label="To Do"> <span class="custom-control-label"><i
                            class="fa fa-square fa-lg text-cyan mr-1"></i> To Do</span></label>
                    </div>
                    <div class="dropdown-divider"></div><a href="#" class="dropdown-item">Create new label</a> <a
                      href="#" class="dropdown-item">Manage labels</a>
                  </div><!-- /.dropdown-menu -->
                </div><!-- /.dropdown -->
              </div><!-- /.form-group -->
            </div><!-- /.col -->
            <!-- .col -->
            <div class="col-md-6">
              <!-- .form-group -->
              <div class="form-group">
                <label class="control-label" for="taskDueDate">Due date</label>
                <div class="input-group input-group-alt flatpickr" data-toggle="flatpickr" data-wrap="true"
                  data-min-date="today">
                  <input name="taskDueDate" id="taskDueDate" type="text" class="form-control" data-input="">
                  <div class="input-group-append">
                    <button type="button" class="btn btn-secondary" data-toggle=""><i
                        class="far fa-calendar"></i></button> <button type="button" class="btn btn-secondary"
                      data-clear=""><i class="fa fa-times"></i></button>
                  </div>
                </div>
              </div><!-- /.form-group -->
            </div><!-- /.col -->
          </div><!-- /.form-group -->
          <hr>
          <!-- .form-group -->
          <div class="form-group">
            <div class="d-flex justify-content-between">
              <label>Todos</label> <span id="ntTodosMeter" class="text-muted">(0/1)</span>
            </div><!-- .progress -->
            <div class="progress progress-sm">
              <div class="progress-bar bg-primary" role="progressbar" aria-valuenow="0" aria-valuemin="0"
                aria-valuemax="100" style="width: 0%">
                <span class="sr-only">0% Complete</span>
              </div>
            </div><!-- /.progress -->
          </div><!-- /.form-group -->
          <!-- .form-group -->
          <div class="form-group">
            <!-- save task todos to this input hidden -->
            <input type="hidden" name="ntTodos" value="[{id:0, desc:Eat corn on the cob, checked: false}]">
            <!-- .todo-list -->
            <div id="ntTodos" class="todo-list">
              <!-- .todo -->
              <div class="todo">
                <!-- .custom-control -->
                <div class="custom-control custom-checkbox">
                  <input type="checkbox" class="custom-control-input" id="todo0" value="0"> <label
                    class="custom-control-label" for="todo0">Eat corn on the cob</label>
                </div><!-- /.custom-control -->
                <!-- .todo-actions -->
                <div class="todo-actions pr-1">
                  <button type="button" class="btn btn-sm btn-light" onclick="boardDemo.removeNtTodo(0)">Delete</button>
                </div><!-- /.todo-actions -->
              </div><!-- /.todo -->
            </div><!-- /.todo-list -->
            <!-- .publisher -->
            <div class="publisher">
              <!-- .publisher-input -->
              <div class="publisher-input pr-0">
                <input id="ntTodosInpt" class="form-control form-control-reflow" placeholder="Add a todo"
                  autocomplete="off">
              </div><!-- /.publisher-input -->
              <!-- .publisher-actions -->
              <div class="publisher-actions">
                <!-- .publisher-tools -->
                <div class="publisher-tools pb-0">
                  <button id="ntTodosAdd" type="button" class="btn btn-secondary">Add</button> <button id="ntTodosClear"
                    type="button" class="btn btn-light"><i class="fa fa-times"></i></button>
                </div><!-- /.publisher-tools -->
              </div><!-- /.publisher-actions -->
            </div><!-- /.publisher -->
          </div><!-- /.form-group -->
        </div><!-- /.modal-body -->
        <hr>
        <!-- .modal-footer -->
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">Save</button> <button type="reset" class="btn btn-light"
            data-dismiss="modal">Cancel</button>
        </div><!-- /.modal-footer -->
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->
</form><!-- /.form -->
