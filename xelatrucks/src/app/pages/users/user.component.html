<!-- .page -->
<div class="page has-sidebar has-sidebar-expand-lg">
    <!-- .page-inner -->
    <div class="page-inner">
        <!-- .page-title-bar -->
        <header class="page-title-bar">
            <button class="btn btn-danger btn-floated d-lg-none" type="button" data-toggle="sidebar"><i class="fa fa-th-list"></i></button>
        </header>
        <!-- /.page-title-bar -->
        <!-- .card -->
        <div id="labels" class="card">
            <!-- .card-body -->
            <div class="card-body">
                <!-- .form -->
                <form ngNativeValidate [formGroup]="forma" (ngSubmit)="crearUsuario()">
                    <!-- .fieldset -->
                    <fieldset>
                        <legend>Campos</legend>
                        <!-- .form-group -->
                        <div class="form-group">
                            <label for="lbl2">Nombre <span class="badge badge-danger">Obligatorio</span></label> <input #name formControlName="nombre" name="nombre" type="text" class="form-control" id="lbl2" placeholder="Ingrese su nombre" required>
                        </div>
                        <!-- /.form-group -->
                        <!-- .form-group -->
                        <div class="form-group">
                            <label for="lbl2">Apellido </label><input formControlName="apel" nombre="apel" type="text" class="form-control" id="lbl3" placeholder="Ingrese su apellido">
                        </div>
                        <!-- /.form-group -->
                        <!-- .form-group -->
                        <div class="form-group">
                            <label for="lbl2">Email <span class="badge badge-danger">Obligatorio</span></label> <input formControlName="correo" name="correo" type="email" class="form-control" id="user" placeholder="Ingrese su correo" required>
                        </div>
                        <!-- /.form-group -->
                        <!-- .form-group -->
                        <div class="form-group">
                            <label class="d-flex justify-content-between" for="lbl5"><span>Contraseña <span class="badge badge-danger">Obligatorio</span></span> <a href="#passW" data-toggle="password"><i class="fa fa-eye fa-fw"></i> <span>Show</span></a></label>
                            <input formControlName="password" name="password" type="password" class="form-control" placeholder="Ingrese su contraseña" id="passW" required>
                        </div>
                        <!-- /.form-group -->
                        <!-- .form-group -->
                        <div class="form-group">
                            <label class="d-flex justify-content-between" for="lbl5"><span>Confirmar Contraseña <span class="badge badge-danger">Obligatorio</span></span> <a href="#confPass" data-toggle="password"><i class="fa fa-eye fa-fw"></i> <span>Show</span></a></label>
                            <input formControlName="password2" name="password2" type="password" class="form-control is-invalid" placeholder="Confirme su contraseña" id="confPass" required>
                            <div class="invalid-feedback" *ngIf="forma.errors?.sonIguales && !forma.pristine">
                                <i class="fa fa-exclamation-circle fa-fw"></i> Las Contraseñas deben coincidir. </div>
                        </div>
                        <!-- /.form-group -->
                        <!-- .form-group -->
                        <div class="form-group">
                            <label id="role">Rol <span class="badge badge-danger">Obligatorio</span></label> <select formControlName="role" name="role" class="form-control select2" id="selDefault" style="width:100%!important;">
                                 <option value=""> Seleccione un rol </option>
                                <option *ngFor="let role of roles" [value]="role.role"> {{ role.texto }}
                                </option>
                            </select>
                        </div>
                        <!-- /.form-group -->
                    </fieldset>
                    <!-- /.fieldset -->
                    <button class="btn btn-primary" type="submit" id="btnUser"><i class="fa fa-save"></i> Guardar</button>
                    <button [routerLink]="[ '/usuarios' ]" type="button" class="btn btn-light" data-dismiss="modal">Cancelar</button>
                </form>
                <!-- /.form -->
            </div>
            <!-- /.card-body -->
        </div>
        <!-- /.card -->
    </div>
    <!-- /.page-inner -->
    <!-- .page-sidebar -->
    <div class="page-sidebar">
        <!-- .sidebar-header -->
        <header class="sidebar-header d-sm-none">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item active">
                        <a href="#" data-toggle="sidebar"><i class="breadcrumb-icon fa fa-angle-left mr-2"></i>Atras</a>
                    </li>
                </ol>
            </nav>
        </header>
        <!-- /.sidebar-header -->
        <!-- .sidebar-section -->
        <div class="sidebar-section">
            <button type="button" class="close mt-n1 d-none d-xl-none d-sm-block" data-toggle="sidebar" aria-label="Close"><span aria-hidden="true">×</span></button>
            <br><br>
            <br><br>
            <br><br>
            <br><br>
            <h5> Asignar áreas de trabajo: </h5>
            <div class="form-group">
                <label class="col-form-label" for="selDefault">Área</label> <select [(ngModel)]="area._id" class="custom-select" id="selDefault">
                      <option value=""> Seleccione un área </option>
                      <option *ngFor="let area of areas" [value]="area._id" > {{ area.name }} </option>
                    </select>
            </div>
            <button type="button" (click)="addArea()" class="btn btn-warning">Asignar área</button>
            <br>
            <!-- .table -->
            <table id="table1" class="table dt-responsive nowrap w-100">
                <thead>
                    <tr>
                        <th> Área </th>
                        <th> Quitar </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let userA of userArea">
                        <td>{{ userA.name }}</td>
                        <td>
                            <button type="button" class="btn btn-danger" (click)="deleteArea(userA._id)" aria-label="Close"><span aria-hidden="true">×</span></button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <!-- /.table -->
        </div>
        <!-- /.sidebar-section -->
    </div>
    <!-- /.page-sidebar -->
</div>
<!-- /.page -->